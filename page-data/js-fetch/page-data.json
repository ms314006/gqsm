{"componentChunkName":"component---src-templates-post-tsx","path":"/js-fetch/","webpackCompilationHash":"3e216d6caac7b3e6da75","result":{"data":{"logo":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAC4jAAAuIwF4pT92AAABEElEQVQoz6XSQUsCQRTA8d1tt4UQlAj0Jt08W0RSeDNBTLrXRdQMBEEFEUUE6WKXbl26ePADdNFv4qFP0TfY7f+2tzEknhr48ebN7nvMzK4VhqFljiAIosi6w/xAcuY2ZG4LmeuaI/XK+e3FpIAtruNm1n8GDW7Cn3GnuajgEUnkMMQpMmjiEkUc6+7L5g6X+MJG8ystKmrjAQXStI0eFuR5SN09zrE2d7jShh96Pw+4QAnvaOn9PuOMvIax7Jp8TpxhBC9uOMUnXjTPoo8JniiqEl/xpvMOsUu8JdblaohybUdSfIgGCwk9pq9NfZwYp0jxTvwsLV/5z3ewozvUI7q66FHkmr9S/Fvs+Zg7z78BWv9x1aNpq+AAAAAASUVORK5CYII=","width":400,"height":167,"src":"/static/47b2a725da5afc6280b3ee7d8fac6b1a/647de/gqsm-logo.png","srcSet":"/static/47b2a725da5afc6280b3ee7d8fac6b1a/647de/gqsm-logo.png 1x,\n/static/47b2a725da5afc6280b3ee7d8fac6b1a/59139/gqsm-logo.png 1.5x,\n/static/47b2a725da5afc6280b3ee7d8fac6b1a/af144/gqsm-logo.png 2x"}}},"markdownRemark":{"html":"<h2>前言</h2>\n<p><span style=\"font-size: 26px; color: #696969; font-style:italic; line-height: 20px\">「使用 Jquery 框架中的 Ajax 就能輕鬆做到了！」</span></p>\n<p>莫約幾年前，在 <code class=\"hm jc jd je jf b\">ES6</code> 已推出卻又還沒有普及的時候，如果有人提到：「如何用 <code class=\"hm jc jd je jf b\">JavaScript</code> 向 <code class=\"hm jc jd je jf b\">server</code> 請求資料？」，一定會有人這麼留言回答。</p>\n<p>沒錯！ <code class=\"hm jc jd je jf b\">$.ajax</code> 幾乎是最簡單又容易上手的請求方式了，不只在底層做了許多處理，也不必再向原生 <code class=\"hm jc jd je jf b\">JavaScript</code> 中又臭又長的 <code class=\"hm jc jd je jf b\">XMLHttpRequest()</code> 請求物件低頭，甚至還幫忙處理了同步執行的模式，使用起來就像這樣：</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">$<span class=\"token punctuation\">.</span><span class=\"token function\">ajax</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    type<span class=\"token punctuation\">:</span> <span class=\"token string\">'get'</span><span class=\"token punctuation\">,</span>\n    url<span class=\"token punctuation\">:</span> <span class=\"token string\">'https://httpbin.org/get'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">success</span><span class=\"token punctuation\">:</span> <span class=\"token parameter\">result</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>看起來很棒！對吧？但那都是幾年前了。</p>\n<h2>模組化（NPM &#x26; Module）</h2>\n<p>近年前端工程在網頁上越來越吃重，投入前端框架的開發者（Developer）變多，讓以前一黨獨大的 <code class=\"hm jc jd je jf b\">JQuery</code> 開始被多個許多小功能的框架給取代，因為 <code class=\"hm jc jd je jf b\">JQuery</code> 擁有太多網站中用不到的 <code class=\"hm jc jd je jf b\">function</code> ，但他們依然會被載入到網頁中。</p>\n<p>面臨上述供給大於需求的情況，許多人便紛紛選擇只擁有自己需要功能的小框架，減少在 <code class=\"hm jc jd je jf b\">Client</code> 端載入過多多餘的程式碼。</p>\n<p>這些趨勢間接讓撰寫原生 <code class=\"hm jc jd je jf b\">JavaScript</code> 的人直線增長，從 <code class=\"hm jc jd je jf b\">ES6</code> 開始出現的 <code class=\"hm jc jd je jf b\">Promise</code> 、 <code class=\"hm jc jd je jf b\">Class</code> 許多新原生的語法出現，終於有一天， <code class=\"hm jc jd je jf b\">XMLHttpRequest()</code> 請求開始走入歷史了（或是根本沒人認識他XD）…</p>\n<hr>\n<h2>Fetch</h2>\n<p><code class=\"hm jc jd je jf b\">Fetch</code> 是 <code class=\"hm jc jd je jf b\">ES6</code> 的新語法，主要是搭配 <code class=\"hm jc jd je jf b\">Promise</code> （<a class=\"dj by ka kb kc kd\" target=\"_blank\" rel=\"noopener\" href=\"/js-promise/\">Promise 的基本用法</a>）來執行請求網站和請求後獲取 <code class=\"hm jc jd je jf b\">Response</code> 的處理方式。</p>\n<p>以下範例的請求都會從 <a href=\"http://httpbin.org/\" class=\"dj by ka kb kc kd\" target=\"_blank\" rel=\"noopener nofollow\">httpbin.org</a> 這個網站裡挑選，它提供了各種不同的請求方式，在練習時是個很棒的工具。</p>\n<h3>GET</h3>\n<p><code class=\"hm jc jd je jf b\">GET</code> 是請求中最基本的類型，在 <code class=\"hm jc jd je jf b\">Fetch</code> 中預設的請求類型也是 <code class=\"hm jc jd je jf b\">GET</code> 用起來就像下方：</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://httpbin.org/get'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> response<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\">//return response.text()</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">myJson</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>myJson<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><code class=\"hm jc jd je jf b\">Fetch</code> 接收了一個 <code class=\"hm jc jd je jf b\">url</code> 作參數，並用 <code class=\"hm jc jd je jf b\">then</code> 接收此次請求的相關資訊：</p>\n<div>\n<img class=\"dz t u hi ak\" src=\"https://miro.medium.com/max/3212/1*pTxI2uirqpdNK6OGrYNGag.png\" role=\"presentation\"><div style=\"display:flex; justify-content:center; font-size: 12px\">\n            <span>&#x95DC;&#x65BC;&#x8A72;&#x6B21;&#x8ACB;&#x6C42;&#x7684; response &#x5167;&#x5BB9;</span>\n          </div>\n</div><br>\n<p>資訊內包含了請求的 <code class=\"hm jc jd je jf b\">url</code> 和用來判斷請求是否成功的 <code class=\"hm jc jd je jf b\">status</code> 狀態等，在 <code class=\"hm jc jd je jf b\">response</code> 中有兩個內建函式可以用來得到請求回傳的資料。</p>\n<p>一個是上方 <code class=\"hm jc jd je jf b\">then</code> 中 <code class=\"hm jc jd je jf b\">return</code> 使用的 <code class=\"hm jc jd je jf b\">.json()</code> ，能夠將回傳的資料以物件的方式傳給第二個 <code class=\"hm jc jd je jf b\">then</code> 接收，另一個是 <code class=\"hm jc jd je jf b\">.text()</code> ，當回傳的資料無法轉換為物件時，則會將請求資料以字串方式取出。</p>\n<p>下方為第二個 <code class=\"hm jc jd je jf b\">.then</code> 在 <code class=\"hm jc jd je jf b\">console</code> 中印出的 <code class=\"hm jc jd je jf b\">myJson</code> 內容，以及當使用 <code class=\"hm jc jd je jf b\">.text()</code> 時的資料模樣：</p>\n<div>\n<img class=\"dz t u hi ak\" src=\"https://miro.medium.com/max/4180/1*JCATZx8-PiPLkL6E7RFtsg.png\" role=\"presentation\"><div style=\"display:flex; justify-content:center; font-size: 12px\">\n            <span>&#x7528; .json() &#x5C07; response &#x7684;&#x8ACB;&#x6C42;&#x8CC7;&#x6599;&#x53D6;&#x51FA;</span>\n          </div></div><br>\n<div>\n<img class=\"dz t u hi ak\" src=\"https://miro.medium.com/max/4128/1*beHToJ0Jz8dORnpfcearxA.png\" role=\"presentation\"><div style=\"display:flex; justify-content:center; font-size: 12px\">\n            <span>&#x7528; .text() &#x5C07; response &#x7684;&#x8ACB;&#x6C42;&#x8CC7;&#x6599;&#x53D6;&#x51FA;</span>\n          </div></div><br>\n<h3>POST</h3>\n<p>與 <code class=\"hm jc jd je jf b\">GET</code> 不同的是，使用 <code class=\"hm jc jd je jf b\">POST</code> 請求時需另外在 <code class=\"hm jc jd je jf b\">method</code> 屬性內指定 <code class=\"hm jc jd je jf b\">POST</code> 方式，且多了 <code class=\"hm jc jd je jf b\">body</code> 屬性指定要送出的資料：</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://httpbin.org/post'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    method<span class=\"token punctuation\">:</span> <span class=\"token string\">'POST'</span><span class=\"token punctuation\">,</span>\n    body<span class=\"token punctuation\">:</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>\n        <span class=\"token punctuation\">{</span>\n            name<span class=\"token punctuation\">:</span> <span class=\"token string\">'GQSM'</span><span class=\"token punctuation\">,</span>\n            age<span class=\"token punctuation\">:</span> <span class=\"token number\">25</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> response<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">myJson</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>myJson<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><code class=\"hm jc jd je jf b\">Fetch</code> 在未指定請求方式的情況下都是使用 <code class=\"hm jc jd je jf b\">GET</code> ，但是 <code class=\"hm jc jd je jf b\">GET</code> 本身無法在請求中藉由 <code class=\"hm jc jd je jf b\">body</code> 送出資料，因此在有 <code class=\"hm jc jd je jf b\">body</code> 屬性的狀態下，未替 <code class=\"hm jc jd je jf b\">method</code> 指定為 <code class=\"hm jc jd je jf b\">POST</code> 或其他可帶 <code class=\"hm jc jd je jf b\">body</code> 的請求方式時，會出現以下錯誤：</p>\n<div>\n<img class=\"dz t u hi ak\" src=\"https://miro.medium.com/max/3580/1*uylPEmLS2Rx9M4BupxqzTQ.png\" role=\"presentation\"><div style=\"display:flex; justify-content:center; font-size: 12px\">\n            <span>&#x9810;&#x8A2D;&#x7684;&#x8ACB;&#x6C42;&#x65B9;&#x5F0F; GET &#x7121;&#x6CD5;&#x6307;&#x5B9A; body</span>\n          </div></div><br>\n<p>需要注意的是， <code class=\"hm jc jd je jf b\">body</code> 內的資料需使用 <code class=\"hm jc jd je jf b\">JSON.stringify</code> 將物件轉換成字串型態，否則 <code class=\"hm jc jd je jf b\">server</code> 端會無法正確取得資料，以下是 <code class=\"hm jc jd je jf b\">data</code> 送進 <code class=\"hm jc jd je jf b\">server</code> 的差別：</p>\n<div>\n<img class=\"dz t u hi ak\" src=\"https://miro.medium.com/max/2416/1*MzqoimOIofho6J2Mx0fDVA.png\" role=\"presentation\"><div style=\"display:flex; justify-content:center; font-size: 12px\">\n            <span>&#x672A;&#x4F7F;&#x7528; JSON.stringify</span>\n          </div></div><br>\n<div>\n<img class=\"dz t u hi ak\" src=\"https://miro.medium.com/max/2644/1*ygaq1njimK3iiqmw2IXY_Q.png\" role=\"presentation\"><div style=\"display:flex; justify-content:center; font-size: 12px\">\n            <span>&#x4F7F;&#x7528;&#x4E86; JSON.stringify</span>\n          </div></div><br>\n<p>未使用 <code class=\"hm jc jd je jf b\">JSON.stringify</code> 的請求會直接將物件強制轉為字串，變成 <code class=\"hm jc jd je jf b\">[object Object]</code> 送至 <code class=\"hm jc jd je jf b\">server</code> ，使用了正確轉換的請求在 <code class=\"hm jc jd je jf b\">server</code> 端則是能接收到正確的內容。</p>\n<h3>請求失敗</h3>\n<p>在 <code class=\"hm jc jd je jf b\">Fetch</code> 中，請求失敗時不會有像 <code class=\"hm jc jd je jf b\">$.ajax</code> 中有 <code class=\"hm jc jd je jf b\">error</code> 可以直接捕捉，取而代之的是要以 <code class=\"hm jc jd je jf b\">response</code> 的 <code class=\"hm jc jd je jf b\">status</code> 的屬性值判斷，當 <code class=\"hm jc jd je jf b\">status</code> 的值不等於 <code class=\"hm jc jd je jf b\">200</code> 時，將在 <code class=\"hm jc jd je jf b\">.then</code> 中使用 <code class=\"hm jc jd je jf b\">throw</code> 創建一個錯誤，並由 <code class=\"hm jc jd je jf b\">.catch</code> 接收錯誤內容處理：</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://httpbin.org/status/500'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>status <span class=\"token operator\">!==</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>status<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> response<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">myJson</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>myJson<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">錯誤代碼為</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>error<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<hr>\n<p>本文介紹了 <code class=\"hm jc jd je jf b\">Fetch</code> 的基本用法及請求錯誤時的捕捉方式，雖然寫起來未必比 <code class=\"hm jc jd je jf b\">$ajax</code> 還要簡單，但是從此以後也多了不需掛載 <code class=\"hm jc jd je jf b\">JQuery</code> 轉為使用原生請求的選擇，唯一需要考量的是 <code class=\"hm jc jd je jf b\">Fetch</code> 和 <code class=\"hm jc jd je jf b\">Promise</code> 在瀏覽器上的支援度還太低，當換到 <code class=\"hm jc jd je jf b\">IE</code> 時便完全無法使用。</p>\n<p>不過就如前言所說的，目前投入前端框架的開發者有太多了，將來也會介紹筆者目前對處理請求使用的框架 <code class=\"hm jc jd je jf b\">axios</code> ， <code class=\"hm jc jd je jf b\">axios</code> 的使用方式和 <code class=\"hm jc jd je jf b\">Fetch</code> 大同小異，在不考慮 <code class=\"hm jc jd je jf b\">Promise</code> 的情況下，大幅度提高了瀏覽器的支援性，至少在 <code class=\"hm jc jd je jf b\">IE11</code> 上也變得能夠使用，有興趣可以先至 <a href=\"https://github.com/axios/axios\" class=\"dj by ka kb kc kd\" target=\"_blank\" rel=\"noopener nofollow\">GitHub 上查看文檔</a>。</p>\n<p>如果以上內容有任何問題，或是不理解的地方，都歡迎留言告訴我，謝謝大家！</p>\n<p>參考文章</p>\n<ol>\n<li id=\"cf48\" class=\"in io em at iq b ir is it iu iv iw ix iy iz ja jb lc ld le\"><a href=\"https://developer.mozilla.org/zh-TW/docs/Web/API/Fetch_API/Using_Fetch#Body\" class=\"dj by ka kb kc kd\" target=\"_blank\" rel=\"noopener nofollow\">https://developer.mozilla.org/zh-TW/docs/Web/API/Fetch_API/Using_Fetch#Body</a></li><li id=\"b18f\" class=\"in io em at iq b ir lf it lg iv lh ix li iz lj jb lc ld le\"><a href=\"https://wcc723.github.io/javascript/2017/12/28/javascript-fetch/\" class=\"dj by ka kb kc kd\" target=\"_blank\" rel=\"noopener nofollow\">https://wcc723.github.io/javascript/2017/12/28/javascript-fetch/</a></li>\n</ol>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"前言"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"style":"font-size: 26px; color: #696969; font-style:italic; line-height: 20px"},"children":[{"type":"text","value":"「使用 Jquery 框架中的 Ajax 就能輕鬆做到了！」"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"莫約幾年前，在 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"ES6"}]},{"type":"text","value":" 已推出卻又還沒有普及的時候，如果有人提到：「如何用 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"JavaScript"}]},{"type":"text","value":" 向 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"server"}]},{"type":"text","value":" 請求資料？」，一定會有人這麼留言回答。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"沒錯！ "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"$.ajax"}]},{"type":"text","value":" 幾乎是最簡單又容易上手的請求方式了，不只在底層做了許多處理，也不必再向原生 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"JavaScript"}]},{"type":"text","value":" 中又臭又長的 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"XMLHttpRequest()"}]},{"type":"text","value":" 請求物件低頭，甚至還幫忙處理了同步執行的模式，使用起來就像這樣："}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"javascript"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-javascript"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-javascript"]},"children":[{"type":"text","value":"$"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"ajax"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    type"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'get'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n    url"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'https://httpbin.org/get'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","function-variable","function"]},"children":[{"type":"text","value":"success"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","parameter"]},"children":[{"type":"text","value":"result"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n        console"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"log"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"result"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"看起來很棒！對吧？但那都是幾年前了。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"模組化（NPM & Module）"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"近年前端工程在網頁上越來越吃重，投入前端框架的開發者（Developer）變多，讓以前一黨獨大的 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"JQuery"}]},{"type":"text","value":" 開始被多個許多小功能的框架給取代，因為 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"JQuery"}]},{"type":"text","value":" 擁有太多網站中用不到的 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"function"}]},{"type":"text","value":" ，但他們依然會被載入到網頁中。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"面臨上述供給大於需求的情況，許多人便紛紛選擇只擁有自己需要功能的小框架，減少在 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"Client"}]},{"type":"text","value":" 端載入過多多餘的程式碼。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"這些趨勢間接讓撰寫原生 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"JavaScript"}]},{"type":"text","value":" 的人直線增長，從 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"ES6"}]},{"type":"text","value":" 開始出現的 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"Promise"}]},{"type":"text","value":" 、 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"Class"}]},{"type":"text","value":" 許多新原生的語法出現，終於有一天， "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"XMLHttpRequest()"}]},{"type":"text","value":" 請求開始走入歷史了（或是根本沒人認識他XD）…"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Fetch"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"Fetch"}]},{"type":"text","value":" 是 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"ES6"}]},{"type":"text","value":" 的新語法，主要是搭配 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"Promise"}]},{"type":"text","value":" （"},{"type":"element","tagName":"a","properties":{"className":["dj","by","ka","kb","kc","kd"],"target":"_blank","rel":["noopener"],"href":"/js-promise/"},"children":[{"type":"text","value":"Promise 的基本用法"}]},{"type":"text","value":"）來執行請求網站和請求後獲取 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"Response"}]},{"type":"text","value":" 的處理方式。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"以下範例的請求都會從 "},{"type":"element","tagName":"a","properties":{"href":"http://httpbin.org/","className":["dj","by","ka","kb","kc","kd"],"target":"_blank","rel":["noopener","nofollow"]},"children":[{"type":"text","value":"httpbin.org"}]},{"type":"text","value":" 這個網站裡挑選，它提供了各種不同的請求方式，在練習時是個很棒的工具。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"GET"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"GET"}]},{"type":"text","value":" 是請求中最基本的類型，在 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"Fetch"}]},{"type":"text","value":" 中預設的請求類型也是 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"GET"}]},{"type":"text","value":" 用起來就像下方："}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"javascript"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-javascript"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-javascript"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"fetch"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'https://httpbin.org/get'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"then"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","parameter"]},"children":[{"type":"text","value":"response"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n        console"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"log"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"response"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" response"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"json"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"//return response.text()"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"then"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","parameter"]},"children":[{"type":"text","value":"myJson"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n        console"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"log"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"myJson"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"Fetch"}]},{"type":"text","value":" 接收了一個 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"url"}]},{"type":"text","value":" 作參數，並用 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"then"}]},{"type":"text","value":" 接收此次請求的相關資訊："}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"img","properties":{"className":["dz","t","u","hi","ak"],"src":"https://miro.medium.com/max/3212/1*pTxI2uirqpdNK6OGrYNGag.png","role":"presentation"},"children":[]},{"type":"element","tagName":"div","properties":{"style":"display:flex; justify-content:center; font-size: 12px"},"children":[{"type":"text","value":"\n            "},{"type":"element","tagName":"span","properties":{},"children":[{"type":"text","value":"關於該次請求的 response 內容"}]},{"type":"text","value":"\n          "}]},{"type":"text","value":"\n"}]},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"資訊內包含了請求的 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"url"}]},{"type":"text","value":" 和用來判斷請求是否成功的 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"status"}]},{"type":"text","value":" 狀態等，在 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"response"}]},{"type":"text","value":" 中有兩個內建函式可以用來得到請求回傳的資料。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"一個是上方 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"then"}]},{"type":"text","value":" 中 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" 使用的 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":".json()"}]},{"type":"text","value":" ，能夠將回傳的資料以物件的方式傳給第二個 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"then"}]},{"type":"text","value":" 接收，另一個是 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":".text()"}]},{"type":"text","value":" ，當回傳的資料無法轉換為物件時，則會將請求資料以字串方式取出。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"下方為第二個 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":".then"}]},{"type":"text","value":" 在 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"console"}]},{"type":"text","value":" 中印出的 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"myJson"}]},{"type":"text","value":" 內容，以及當使用 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":".text()"}]},{"type":"text","value":" 時的資料模樣："}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"img","properties":{"className":["dz","t","u","hi","ak"],"src":"https://miro.medium.com/max/4180/1*JCATZx8-PiPLkL6E7RFtsg.png","role":"presentation"},"children":[]},{"type":"element","tagName":"div","properties":{"style":"display:flex; justify-content:center; font-size: 12px"},"children":[{"type":"text","value":"\n            "},{"type":"element","tagName":"span","properties":{},"children":[{"type":"text","value":"用 .json() 將 response 的請求資料取出"}]},{"type":"text","value":"\n          "}]}]},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"img","properties":{"className":["dz","t","u","hi","ak"],"src":"https://miro.medium.com/max/4128/1*beHToJ0Jz8dORnpfcearxA.png","role":"presentation"},"children":[]},{"type":"element","tagName":"div","properties":{"style":"display:flex; justify-content:center; font-size: 12px"},"children":[{"type":"text","value":"\n            "},{"type":"element","tagName":"span","properties":{},"children":[{"type":"text","value":"用 .text() 將 response 的請求資料取出"}]},{"type":"text","value":"\n          "}]}]},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"POST"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"與 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"GET"}]},{"type":"text","value":" 不同的是，使用 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"POST"}]},{"type":"text","value":" 請求時需另外在 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"method"}]},{"type":"text","value":" 屬性內指定 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"POST"}]},{"type":"text","value":" 方式，且多了 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"body"}]},{"type":"text","value":" 屬性指定要送出的資料："}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"javascript"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-javascript"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-javascript"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"fetch"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'https://httpbin.org/post'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    method"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'POST'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n    body"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","constant"]},"children":[{"type":"text","value":"JSON"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"stringify"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n            name"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'GQSM'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n            age"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"25"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"then"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","parameter"]},"children":[{"type":"text","value":"response"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" response"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"json"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"then"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","parameter"]},"children":[{"type":"text","value":"myJson"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    console"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"log"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"myJson"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"Fetch"}]},{"type":"text","value":" 在未指定請求方式的情況下都是使用 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"GET"}]},{"type":"text","value":" ，但是 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"GET"}]},{"type":"text","value":" 本身無法在請求中藉由 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"body"}]},{"type":"text","value":" 送出資料，因此在有 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"body"}]},{"type":"text","value":" 屬性的狀態下，未替 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"method"}]},{"type":"text","value":" 指定為 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"POST"}]},{"type":"text","value":" 或其他可帶 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"body"}]},{"type":"text","value":" 的請求方式時，會出現以下錯誤："}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"img","properties":{"className":["dz","t","u","hi","ak"],"src":"https://miro.medium.com/max/3580/1*uylPEmLS2Rx9M4BupxqzTQ.png","role":"presentation"},"children":[]},{"type":"element","tagName":"div","properties":{"style":"display:flex; justify-content:center; font-size: 12px"},"children":[{"type":"text","value":"\n            "},{"type":"element","tagName":"span","properties":{},"children":[{"type":"text","value":"預設的請求方式 GET 無法指定 body"}]},{"type":"text","value":"\n          "}]}]},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"需要注意的是， "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"body"}]},{"type":"text","value":" 內的資料需使用 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"JSON.stringify"}]},{"type":"text","value":" 將物件轉換成字串型態，否則 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"server"}]},{"type":"text","value":" 端會無法正確取得資料，以下是 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"data"}]},{"type":"text","value":" 送進 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"server"}]},{"type":"text","value":" 的差別："}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"img","properties":{"className":["dz","t","u","hi","ak"],"src":"https://miro.medium.com/max/2416/1*MzqoimOIofho6J2Mx0fDVA.png","role":"presentation"},"children":[]},{"type":"element","tagName":"div","properties":{"style":"display:flex; justify-content:center; font-size: 12px"},"children":[{"type":"text","value":"\n            "},{"type":"element","tagName":"span","properties":{},"children":[{"type":"text","value":"未使用 JSON.stringify"}]},{"type":"text","value":"\n          "}]}]},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"img","properties":{"className":["dz","t","u","hi","ak"],"src":"https://miro.medium.com/max/2644/1*ygaq1njimK3iiqmw2IXY_Q.png","role":"presentation"},"children":[]},{"type":"element","tagName":"div","properties":{"style":"display:flex; justify-content:center; font-size: 12px"},"children":[{"type":"text","value":"\n            "},{"type":"element","tagName":"span","properties":{},"children":[{"type":"text","value":"使用了 JSON.stringify"}]},{"type":"text","value":"\n          "}]}]},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"未使用 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"JSON.stringify"}]},{"type":"text","value":" 的請求會直接將物件強制轉為字串，變成 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"[object Object]"}]},{"type":"text","value":" 送至 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"server"}]},{"type":"text","value":" ，使用了正確轉換的請求在 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"server"}]},{"type":"text","value":" 端則是能接收到正確的內容。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"請求失敗"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"在 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"Fetch"}]},{"type":"text","value":" 中，請求失敗時不會有像 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"$.ajax"}]},{"type":"text","value":" 中有 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"error"}]},{"type":"text","value":" 可以直接捕捉，取而代之的是要以 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"response"}]},{"type":"text","value":" 的 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"status"}]},{"type":"text","value":" 的屬性值判斷，當 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"status"}]},{"type":"text","value":" 的值不等於 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"200"}]},{"type":"text","value":" 時，將在 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":".then"}]},{"type":"text","value":" 中使用 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"throw"}]},{"type":"text","value":" 創建一個錯誤，並由 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":".catch"}]},{"type":"text","value":" 接收錯誤內容處理："}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"javascript"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-javascript"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-javascript"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"fetch"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'https://httpbin.org/status/500'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"then"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","parameter"]},"children":[{"type":"text","value":"response"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"if"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"response"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"status "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"!=="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"200"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"throw"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"new"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Error"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"response"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"status"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" response"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"json"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"then"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","parameter"]},"children":[{"type":"text","value":"myJson"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    console"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"log"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"myJson"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"catch"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","parameter"]},"children":[{"type":"text","value":"error"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    console"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"log"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","template-string"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","template-punctuation","string"]},"children":[{"type":"text","value":"`"}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"錯誤代碼為"}]},{"type":"element","tagName":"span","properties":{"className":["token","interpolation"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","interpolation-punctuation","punctuation"]},"children":[{"type":"text","value":"${"}]},{"type":"text","value":"error"},{"type":"element","tagName":"span","properties":{"className":["token","interpolation-punctuation","punctuation"]},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tagName":"span","properties":{"className":["token","template-punctuation","string"]},"children":[{"type":"text","value":"`"}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"本文介紹了 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"Fetch"}]},{"type":"text","value":" 的基本用法及請求錯誤時的捕捉方式，雖然寫起來未必比 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"$ajax"}]},{"type":"text","value":" 還要簡單，但是從此以後也多了不需掛載 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"JQuery"}]},{"type":"text","value":" 轉為使用原生請求的選擇，唯一需要考量的是 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"Fetch"}]},{"type":"text","value":" 和 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"Promise"}]},{"type":"text","value":" 在瀏覽器上的支援度還太低，當換到 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"IE"}]},{"type":"text","value":" 時便完全無法使用。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"不過就如前言所說的，目前投入前端框架的開發者有太多了，將來也會介紹筆者目前對處理請求使用的框架 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"axios"}]},{"type":"text","value":" ， "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"axios"}]},{"type":"text","value":" 的使用方式和 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"Fetch"}]},{"type":"text","value":" 大同小異，在不考慮 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"Promise"}]},{"type":"text","value":" 的情況下，大幅度提高了瀏覽器的支援性，至少在 "},{"type":"element","tagName":"code","properties":{"className":["hm","jc","jd","je","jf","b"]},"children":[{"type":"text","value":"IE11"}]},{"type":"text","value":" 上也變得能夠使用，有興趣可以先至 "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/axios/axios","className":["dj","by","ka","kb","kc","kd"],"target":"_blank","rel":["noopener","nofollow"]},"children":[{"type":"text","value":"GitHub 上查看文檔"}]},{"type":"text","value":"。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"如果以上內容有任何問題，或是不理解的地方，都歡迎留言告訴我，謝謝大家！"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"參考文章"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{"id":"cf48","className":["in","io","em","at","iq","b","ir","is","it","iu","iv","iw","ix","iy","iz","ja","jb","lc","ld","le"]},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/zh-TW/docs/Web/API/Fetch_API/Using_Fetch#Body","className":["dj","by","ka","kb","kc","kd"],"target":"_blank","rel":["noopener","nofollow"]},"children":[{"type":"text","value":"https://developer.mozilla.org/zh-TW/docs/Web/API/Fetch_API/Using_Fetch#Body"}]}]},{"type":"element","tagName":"li","properties":{"id":"b18f","className":["in","io","em","at","iq","b","ir","lf","it","lg","iv","lh","ix","li","iz","lj","jb","lc","ld","le"]},"children":[{"type":"element","tagName":"a","properties":{"href":"https://wcc723.github.io/javascript/2017/12/28/javascript-fetch/","className":["dj","by","ka","kb","kc","kd"],"target":"_blank","rel":["noopener","nofollow"]},"children":[{"type":"text","value":"https://wcc723.github.io/javascript/2017/12/28/javascript-fetch/"}]}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}},"excerpt":"前言 「使用 Jquery 框架中的 Ajax 就能輕鬆做到了！」 莫約幾年前，在 ES6 已推出卻又還沒有普及的時候，如果有人提到：「如何用 JavaScript 向 server 請求資料？」，一定會有人這麼留言回答。 沒錯！ $.ajax…","timeToRead":3,"frontmatter":{"title":"JavaScript | Fetch 讓 ES6 擁有一對翅膀-基礎教學","userDate":"6 February 2019","date":"2019-02-06T22:02:10.149Z","tags":["JavaScript","ES6"],"image":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAIDBf/EABcBAAMBAAAAAAAAAAAAAAAAAAABAwX/2gAMAwEAAhADEAAAAdKJm1sCP//EABgQAAIDAAAAAAAAAAAAAAAAAAABEBEi/9oACAEBAAEFAnZuP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABgQAAIDAAAAAAAAAAAAAAAAAAAQESFC/9oACAEBAAY/Aqgyv//EABkQAAEFAAAAAAAAAAAAAAAAACEAARCx4f/aAAgBAQABPyHeTEbR/9oADAMBAAIAAwAAABD3/wD/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAgEBPxCn/8QAGhAAAgMBAQAAAAAAAAAAAAAAESEAATFBwf/aAAgBAQABPxBFadfyIMpkNKIo7P/Z","aspectRatio":2.576344086021505,"src":"/static/a331ab47748f04ebe6fb3740f1814d03/7600e/JavaScript-ES6.jpg","srcSet":"/static/a331ab47748f04ebe6fb3740f1814d03/f8f18/JavaScript-ES6.jpg 930w,\n/static/a331ab47748f04ebe6fb3740f1814d03/0e6ff/JavaScript-ES6.jpg 1860w,\n/static/a331ab47748f04ebe6fb3740f1814d03/7600e/JavaScript-ES6.jpg 2396w","sizes":"(max-width: 2396px) 100vw, 2396px"}}},"author":{"id":"GQSM","bio":"Enjoy life enjoy coding!","avatar":{"children":[{"__typename":"ImageSharp","fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAC4jAAAuIwF4pT92AAACIElEQVQ4y5WTz2saQRTHd3Y3/mrxV6NbsYoIUmtMDkkrXoVgvRQUVMiteLGQ/6G9KKVC0d5CG0/NxRx6kRZ6aC8JND0KOcdzKLTgyUTd6XvL2zCUVqcDX77uzLyPb96bURRhdDodyweDAVP+Mjjnlo9GI0V69Pt9RsG36/X6i1wud9xoNPZt2Hg8locNh8Ob34VC4aPD4UAK93q9vFKpvKYl1YavHNVqVUVvtVqPwuEwRl2rqnqF0Hg8/nM6nRq43u12mRQQjmgB2+32Q8MwELjQNG2BwEQicTmZTCxgr9eTA9JRrM3FYvGD0+nEiSufz8fL5XKPtmnSR7ZhMJyBQOAkk8nwbDY7S6fT3O12f4f5e3/skwa+w4RBM/I5+SHIIwtVyfegbhyaMYeszFQqZcKcqes6pwY9kz7vt7MztPM76+s8Go3OSqUSh0aZeORgMHgdCoUwy88ejycok6Wd4fNkMsmhEYtarWY2m00TwKbf7zcjkQgC69AsrKVbOtN8Pn+ENQPADDKcx2Kxucvl4ts7O29wHS58GCyxMkuokW7dC03bZ4xZ91BsCryYXYvA2BrYFshYlZxOfoAACPwF8PcC+CUoCnoA2sQXKpRq6bX5RIC3oFugL/R9tCTmnwtY7AvQJchPc/cJ+FVoIJO91Hcp+Cl9r5G/Av0Quit9sZ+AToUgMfNzaoayqnbiP25TwcUg2x+DNv7nPbMlxZYC/AYn5p1FkAm0lwAAAABJRU5ErkJggg==","width":400,"height":402,"src":"/static/bca487154c11d830750d2707c9e6d3e5/4e842/gqsm.png","srcSet":"/static/bca487154c11d830750d2707c9e6d3e5/4e842/gqsm.png 1x,\n/static/bca487154c11d830750d2707c9e6d3e5/fca9c/gqsm.png 1.5x,\n/static/bca487154c11d830750d2707c9e6d3e5/94286/gqsm.png 2x"}}]}}}},"relatedPosts":{"totalCount":17,"edges":[{"node":{"id":"4e30fa7d-e3e5-57b4-add0-b9682054e469","timeToRead":1,"excerpt":"前言 Hi！大家好，我是神 Q 超人。這篇是練習演算法的文章，雖然目前還是很菜，但是希望可以藉由把自己的解法分享給大家，來互相討論得到進步！ 題目：56. Merge Intervals 難易度：Medium…","frontmatter":{"title":"JS 的演算法養成之路 | Merge Intervals"},"fields":{"slug":"/algorithms-merge-intervals/"}}},{"node":{"id":"9507b5af-d833-5726-869b-aff8c9f7a722","timeToRead":3,"excerpt":"嗨！大家好我是神Q超人！先前一陣子經過友人介紹認識了這個網站，但是由於先前已經有用習慣分享文章的平台，就遲遲未到此處發文，一直到參與完該平台舉辦的鐵人賽後，休息了好一陣子，最後沒有得獎也是很失落，於是想說在新的一年讓自己有個新開始！請大家多多指教！ 認識 Promise…","frontmatter":{"title":"JavaScript | 從Promise開始承諾的部落格生活"},"fields":{"slug":"/js-promise/"}}},{"node":{"id":"6f22dcc0-a5ec-58e1-8efc-ab3a9ca27030","timeToRead":4,"excerpt":"Hello I am Clark! Today we’re gonna write test case of unit testing for DOM manipulation. If we have a piece code of HTML and JavaScript in…","frontmatter":{"title":"Jest | Use Jest write unit testing for DOM manipulation"},"fields":{"slug":"/unit-testing-for-dom-manipulation/"}}}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/js-fetch/","prev":{"excerpt":"基本圖文選單創建 為 Line Bot 建立基本的圖文選單其實不難，在 Line 為每個開發者提供的管理介面（ Line Developers ）就有這個功能： 建立選單的介面也很簡易： Step1. 選擇圖文選單的版型，目前官方提供了七種樣式可供選擇：  Step…","timeToRead":4,"frontmatter":{"title":"Line Bot | 使用 Python 為 Line Bot 建立獨一無二的圖文選單（ Rich menus）","tags":["Line","Line Bot","Python"],"date":"2019-01-29T22:02:10.149Z","draft":false,"image":{"childImageSharp":{"fluid":{"aspectRatio":1.2653061224489797,"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAQF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAgH/2gAMAwEAAhADEAAAAdZGQ0EKL//EABwQAAEDBQAAAAAAAAAAAAAAAAABAxQCBBEiMf/aAAgBAQABBQJeY2pFumEJbJNYP//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAEDAQE/AYf/xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAgEBPwGn/8QAHhAAAQMEAwAAAAAAAAAAAAAAAAECMRESQZEhImH/2gAIAQEABj8Cd2oNW7BIs8+GdEro/8QAGhABAAMBAQEAAAAAAAAAAAAAAQARITGBsf/aAAgBAQABPyE4+w8gnd+oUG27Kj1pgBHFFQBF/9oADAMBAAIAAwAAABDcD//EABYRAQEBAAAAAAAAAAAAAAAAAAERAP/aAAgBAwEBPxC7ghv/xAAXEQADAQAAAAAAAAAAAAAAAAAAARHx/9oACAECAQE/EJmDdZ//xAAfEAEBAAICAQUAAAAAAAAAAAABIQARMUFRYXGRofD/2gAIAQEAAT8QJc6HaHx+fTGBOgne647+suItNvEJf1wpSYFV5Ke+LsDURQ6wlBdu3bc//9k=","sizes":"(max-width: 1364px) 100vw, 1364px","src":"/static/60958ff39845c456c5637313198efe69/3d04b/line-bot-rich-menus.jpg","srcSet":"/static/60958ff39845c456c5637313198efe69/f8f18/line-bot-rich-menus.jpg 930w,\n/static/60958ff39845c456c5637313198efe69/3d04b/line-bot-rich-menus.jpg 1364w"}}},"author":{"id":"GQSM","bio":"Enjoy life enjoy coding!","avatar":{"children":[{"fixed":{"src":"/static/bca487154c11d830750d2707c9e6d3e5/4e842/gqsm.png"}}]}}},"fields":{"layout":"post","slug":"/line-bot-rich-menus/"}},"next":{"excerpt":"前言 前幾天 React 釋出 16.8 版本的消息在各群組上傳得沸沸揚揚，理由是因為這一次的改版新增了 Hooks ，讓 Function Components 變得和以往不同！ 什麼是 Hooks ？ 在提到 Hooks 前，必須先理解 React 在 16.…","timeToRead":5,"frontmatter":{"title":"React | 為了與 Hooks 相遇 - Function Components 升級記","tags":["React","Hook"],"date":"2019-02-14T05:33:38.149Z","draft":false,"image":{"childImageSharp":{"fluid":{"aspectRatio":1.828099173553719,"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAIDBf/EABYBAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEAMQAAAByp0nIT//xAAXEAEAAwAAAAAAAAAAAAAAAAABABIg/9oACAEBAAEFAgGUM//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABkQAAEFAAAAAAAAAAAAAAAAAAEAESAhMv/aAAgBAQAGPwKyy2I//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQABPyFQh//aAAwDAQACAAMAAAAQv9//xAAWEQEBAQAAAAAAAAAAAAAAAAABEFH/2gAIAQMBAT8QR2f/xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAgEBPxCn/8QAHRAAAQIHAAAAAAAAAAAAAAAAAREhACAxQVFhcf/aAAgBAQABPxCmDgHFsxwV2sv/2Q==","sizes":"(max-width: 2212px) 100vw, 2212px","src":"/static/b7a8f321b0bbc07ca9b9d22a7a505ed5/97b31/React.jpg","srcSet":"/static/b7a8f321b0bbc07ca9b9d22a7a505ed5/f8f18/React.jpg 930w,\n/static/b7a8f321b0bbc07ca9b9d22a7a505ed5/0e6ff/React.jpg 1860w,\n/static/b7a8f321b0bbc07ca9b9d22a7a505ed5/97b31/React.jpg 2212w"}}},"author":{"id":"GQSM","bio":"Enjoy life enjoy coding!","avatar":{"children":[{"fixed":{"src":"/static/bca487154c11d830750d2707c9e6d3e5/4e842/gqsm.png"}}]}}},"fields":{"layout":"post","slug":"/react-hook-useState-useEffect/"}},"primaryTag":"JavaScript"}}}